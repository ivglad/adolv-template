@use '@/assets/styles/variables' as *;
@use '@/assets/styles/mixins' as *;

@layer preset {
  // --------------------------------------------------------------------------
  // Buttons
  // --------------------------------------------------------------------------
  .p-button {
    // @mixin hoverColors {
    //   &:not(:disabled) {
    //     &:hover {
    //       @content;
    //     }
    //   }
    // }
    // @mixin activeColors {
    //   &:not(:disabled) {
    //     &:active {
    //       @content;
    //     }
    //   }
    // }

    // &:not(&-icon-only):not(&-text):not(&-sm) {
    //   height: 4.2rem;
    // }
    // &:not(&-rounded):not(&-text):not(&-sm) {
    //   width: 14rem;
    //   min-width: fit-content;
    //   max-width: 100%;
    // }
    // &-sm {
    //   width: 8rem;
    //   min-width: fit-content;
    //   max-width: 100%;
    //   height: 3.2rem;
    //   font-size: 1.2rem;
    // }

    // &-icon-only:not(&-text) {
    //   min-width: 4.2rem;
    //   min-height: 4.2rem;
    // }

    // &-icon-only:where(&-text) {
    //   min-width: var(--p-icon-size);
    //   min-height: var(--p-icon-size);
    // }

    // &-outlined {
    //   @include hoverColors {
    //     color: var(--p-button-primary-hover-border-color);
    //     border-color: var(--p-button-primary-hover-border-color);
    //   }
    //   @include activeColors {
    //     color: var(--p-button-primary-active-border-color);
    //     border-color: var(--p-button-primary-active-border-color);
    //   }
    // }
    // &-outlined:where(&-secondary) {
    //   @include hoverColors {
    //     color: var(--p-button-secondary-hover-border-color);
    //     border-color: var(--p-button-secondary-hover-border-color);
    //   }
    //   @include activeColors {
    //     color: var(--p-button-secondary-active-border-color);
    //     border-color: var(--p-button-secondary-active-border-color);
    //   }
    // }
    // &-outlined:where(&-success) {
    //   @include hoverColors {
    //     color: var(--p-button-success-hover-border-color);
    //     border-color: var(--p-button-success-hover-border-color);
    //   }
    //   @include activeColors {
    //     color: var(--p-button-success-active-border-color);
    //     border-color: var(--p-button-success-active-border-color);
    //   }
    // }
    // &-outlined:where(&-danger) {
    //   @include hoverColors {
    //     color: var(--p-button-danger-hover-border-color);
    //     border-color: var(--p-button-danger-hover-border-color);
    //   }
    //   @include activeColors {
    //     color: var(--p-button-danger-active-border-color);
    //     border-color: var(--p-button-danger-active-border-color);
    //   }
    // }
    // &-text {
    //   padding: 0.5rem;
    //   @include hoverColors {
    //     color: var(--p-button-primary-hover-border-color);
    //   }
    //   @include activeColors {
    //     color: var(--p-button-primary-active-border-color);
    //   }
    // }
    // &-text:where(&-icon-only) {
    //   padding: 0.5rem;
    //   @include hoverColors {
    //     color: var(--p-button-primary-hover-border-color);
    //   }
    //   @include activeColors {
    //     color: var(--p-button-primary-active-border-color);
    //   }
    // }
    // &-text:where(&-secondary) {
    //   @include hoverColors {
    //     color: var(--p-surface-700);
    //   }
    //   @include activeColors {
    //     color: var(--p-button-secondary-active-border-color);
    //   }
    // }
    // &-text:where(&-secondary):where(&-icon-only) {
    //   @include hoverColors {
    //     color: var(--p-button-secondary-hover-border-color);
    //   }
    //   @include activeColors {
    //     color: var(--p-button-secondary-active-border-color);
    //   }
    // }

    &-loading &-label {
      display: none;
    }
  }

  .p-selectbutton {
    .p-togglebutton::before {
      border-radius: var(--p-border-radius-md);
    }
  }
  // --------------------------------------------------------------------------

  // --------------------------------------------------------------------------
  // Inputs
  // --------------------------------------------------------------------------
  .p-inputtext {
    width: 25rem;
    min-width: 10rem;
    max-width: 40rem;
    min-height: 4.2rem;
    &:not(:disabled):not(.p-invalid) {
      &:placeholder-shown,
      &::placeholder {
        color: var(--p-inputtext-placeholder-color);
      }
    }
    &:placeholder-shown,
    &::placeholder {
      color: var(--p-surface-200);
    }
    &.p-invalid {
      color: var(--p-inputtext-invalid-placeholder-color);
    }
  }

  .p-textarea,
  .p-inputwrapper {
    width: 25rem;
    min-width: 10rem;
    max-width: 40rem;
  }

  .p-inputotp {
    .p-inputtext {
      width: 4.2rem;
      min-width: 4.2rem;
    }
  }
  // --------------------------------------------------------------------------

  // --------------------------------------------------------------------------
  // Checkbox
  // --------------------------------------------------------------------------
  .p-checkbox {
    &-icon {
      filter: drop-shadow(0 0 0.5px var(--p-primary-500));
    }
  }
  // --------------------------------------------------------------------------

  // --------------------------------------------------------------------------
  // Toggleswitch
  // --------------------------------------------------------------------------
  .p-toggleswitch {
    &-checked:where(.p-disabled) &-slider {
      border-color: var(--p-toggleswitch-border-color);
    }
  }
  // --------------------------------------------------------------------------

  // --------------------------------------------------------------------------
  // Selects
  // --------------------------------------------------------------------------
  .p-select,
  .p-multiselect {
    align-items: center;
    width: 20rem;
    min-width: fit-content;
    max-width: 40rem;
    height: 4.2rem;
    min-height: fit-content;
    max-height: 100%;
    &-sm {
      height: 3.2rem;
    }
    &-overlay-sm &-option {
      height: 3.2rem;
    }
    &-dropdown {
      .p-icon {
        width: 1.4rem;
        height: 1.4rem;
        margin-right: 0.5rem;
      }
    }
    &-label {
      flex-wrap: wrap;
      &:has(.p-chip) {
        padding: calc(var(--p-multiselect-padding-y) / 2)
          var(--p-multiselect-padding-x);
      }
    }
    .p-chip {
      padding-block: var(--p-chip-padding-y);
      padding-inline: var(--p-chip-padding-x);
      &-label {
        max-width: 80px;
        white-space: nowrap;
        text-overflow: ellipsis;
        overflow: hidden;
      }
      .icon {
        color: var(--p-chip-remove-icon-color);
      }
    }
  }
  // --------------------------------------------------------------------------

  // --------------------------------------------------------------------------
  // Chip
  // --------------------------------------------------------------------------
  .p-chip {
    font-size: $fs-xs;
    &-label {
      padding-block: var(--p-chip-padding-y);
      padding-inline: var(--p-chip-padding-x);
    }
    .icon-close {
      min-width: fit-content;
      min-height: fit-content;
      color: var(--p-surface-500);
    }
  }
  // --------------------------------------------------------------------------

  // --------------------------------------------------------------------------
  // Datepicker
  // --------------------------------------------------------------------------
  .p-datepicker {
    &-day {
      line-height: var(--p-datepicker-date-height);
      &-view {
        font-size: $fs-s;
        user-select: none;
      }
      &.p-disabled {
        color: var(--p-surface-200);
      }
    }
    &-time-picker {
      span {
        font-size: $fs-s;
      }
    }
    .p-component:disabled + &-input-icon-container {
      color: var(--p-surface-200);
      opacity: 0.6;
      user-select: none;
      pointer-events: none;
    }
  }
  // --------------------------------------------------------------------------

  // --------------------------------------------------------------------------
  // Badge
  // --------------------------------------------------------------------------
  .p-badge {
    line-height: var(--p-badge-height);
    &-lg {
      line-height: var(--p-badge-lg-height);
    }
    &-xl {
      line-height: var(--p-badge-xl-height);
    }
    &-sm {
      line-height: var(--p-badge-sm-height);
      padding: 0.3rem 0.3rem;
    }
  }

  .p-overlaybadge {
    width: fit-content;
    height: fit-content;
    .p-badge {
      &:not(&-circle) {
        transform: translate(90%, -50%);
      }
    }
  }
  // --------------------------------------------------------------------------

  // --------------------------------------------------------------------------
  // Iconfield
  // --------------------------------------------------------------------------
  .p-iconfield {
    display: flex;
    align-items: center;
    & *:first-child.p-inputicon {
      z-index: 1;
      & + * input {
        padding-inline-start: calc(
          (var(--p-form-field-padding-x) * 2) + var(--p-icon-size)
        );
        padding-inline-end: var(--p-form-field-padding-x);
      }
    }
    .p-inputicon {
      top: unset;
      margin-top: 0;
    }
  }

  // --------------------------------------------------------------------------
  // File upload
  // --------------------------------------------------------------------------
  .p-fileupload {
    &-content {
      border-radius: var(--p-fileupload-border-radius);
    }
  }
  // --------------------------------------------------------------------------

  // --------------------------------------------------------------------------
  // Tooltip
  // --------------------------------------------------------------------------
  .p-tooltip {
    max-width: 30rem;
    &-top &-arrow {
      border-top-color: var(--p-surface-0);
    }
    &-right &-arrow {
      border-right-color: var(--p-surface-0);
    }
    &-bottom &-arrow {
      border-bottom-color: var(--p-surface-0);
    }
    &-left &-arrow {
      border-left-color: var(--p-surface-0);
    }
    &-text {
      font-size: $fs-xs;
      color: var(--p-text-color);
      border-radius: var(--p-border-radius-md);
      background: var(--p-surface-0);
    }
  }

  .p-confirmpopup {
    &-message {
      font-size: 1.2rem;
    }
  }
  // --------------------------------------------------------------------------

  // --------------------------------------------------------------------------
  // Accordion
  // --------------------------------------------------------------------------
  .p-accordion {
    &header,
    &header svg {
      transition: color var(--p-accordion-transition-duration),
        background var(--p-accordion-transition-duration);
    }
    &panel {
      &:last-child {
        border-color: transparent;
      }
    }
  }
  // --------------------------------------------------------------------------

  // --------------------------------------------------------------------------
  // Paginator
  // --------------------------------------------------------------------------
  .p-paginator {
    &-rpp-dropdown {
      min-width: 6rem;
      max-width: fit-content;
    }
  }
  // --------------------------------------------------------------------------

  // --------------------------------------------------------------------------
  // Overlay offsets
  // --------------------------------------------------------------------------
  [data-pc-section='overlay'],
  [data-pc-section='panel'] {
    &:not(.p-colorpicker-panel-inline) {
      margin-top: 0.5rem;
      &[style*='margin-top'] {
        margin-top: -0.5rem !important;
      }
    }
  }
  // --------------------------------------------------------------------------

  // --------------------------------------------------------------------------
  // Disabled styles
  // --------------------------------------------------------------------------
  .p-disabled,
  .p-component[disabled] {
    opacity: 0.6;
    filter: grayscale(0.9);
    user-select: none;
    pointer-events: none;
    &.p-button {
      opacity: 0.4;
      filter: grayscale(0.9);
    }

    &:not(:has(.p-disabled)):not(:has(.p-component[disabled])) {
      opacity: 0.6;
      filter: grayscale(0.9);
      &.p-button {
        opacity: 0.4;
        filter: grayscale(0.9);
      }
    }

    &:has(.p-disabled),
    &:has(.p-component[disabled]) {
      opacity: 1;
      filter: none;
    }

    > * {
      opacity: 1;
      filter: none;
    }

    &:not(.p-button) .icon,
    &:not(.p-button) .p-icon,
    // + * .icon,
    // + * .p-icon,
    + .icon,
    + .p-icon {
      color: var(--p-surface-200);
      opacity: 0.6;
      cursor: default;
      user-select: none;
      pointer-events: none;
    }
  }
  // --------------------------------------------------------------------------

  button,
  input,
  textarea {
    font-family: inherit;
    font-size: inherit;
    letter-spacing: inherit;
  }
  button {
    line-height: 100%;
  }
  input,
  textarea {
    line-height: inherit;
  }
}
